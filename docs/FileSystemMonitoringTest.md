# フォルダリスト更新監視機能テスト手順書

## テスト環境の準備

1. テスト用ドライブに以下のフォルダ構造を作成：
```
TestFolder/
  ├── Folder1/
  │   └── SubFolder1/
  └── Folder2/
```

2. アプリケーションを起動し、TestFolderを開く

## テストケース

### 1. フォルダ作成

#### 1.1 ルートフォルダ直下での作成
1. TestFolder直下に新規フォルダ「NewFolder」を作成
2. 期待結果：
   - デバッグログに"フォルダ作成: [path]"が出力される
   - フォルダリストに「NewFolder」が表示される

#### 1.2 展開中のフォルダ内での作成
1. Folder1を展開
2. Folder1内に新規フォルダ「NewSubFolder」を作成
3. 期待結果：
   - デバッグログに"フォルダ作成: [path]"が出力される
   - Folder1の下に「NewSubFolder」が表示される

#### 1.3 展開していないフォルダ内での作成
1. Folder2を展開せずに内部に新規フォルダを作成
2. 期待結果：
   - デバッグログに"フォルダ作成: [path]"が出力される
   - Folder2を展開すると新規フォルダが表示される

### 2. フォルダ削除

#### 2.1 選択中のフォルダの削除
1. Folder1/SubFolder1を選択
2. SubFolder1を削除
3. 期待結果：
   - デバッグログに"フォルダ削除: [path]"が出力される
   - SubFolder1がリストから消える
   - 選択状態が解除される

#### 2.2 展開中のフォルダ内のフォルダ削除
1. Folder1を展開
2. NewSubFolderを削除
3. 期待結果：
   - デバッグログに"フォルダ削除: [path]"が出力される
   - Folder1の下からNewSubFolderが消える

#### 2.3 展開していないフォルダ内のフォルダ削除
1. Folder2内の新規フォルダを削除（Folder2は展開していない状態で）
2. 期待結果：
   - デバッグログに"フォルダ削除: [path]"が出力される
   - Folder2を展開すると削除したフォルダが表示されない

### 3. フォルダ名変更

#### 3.1 ルートレベルのフォルダ名変更
1. Folder2を「Folder2_Renamed」にリネーム
2. 期待結果：
   - デバッグログに"フォルダ名変更: [oldPath] -> [newPath]"が出力される
   - リストで「Folder2_Renamed」と表示される

#### 3.2 展開中のサブフォルダの名前変更
1. Folder1を展開
2. サブフォルダの名前を変更
3. 期待結果：
   - デバッグログに"フォルダ名変更: [oldPath] -> [newPath]"が出力される
   - リストで新しい名前で表示される

#### 3.3 選択中のフォルダの名前変更
1. フォルダを選択
2. 選択中のフォルダの名前を変更
3. 期待結果：
   - デバッグログに"フォルダ名変更: [oldPath] -> [newPath]"が出力される
   - リストで新しい名前で表示される
   - 選択状態が維持される

### 4. エッジケース

#### 4.1 複数の同時操作
1. 複数のフォルダを同時に作成/削除/リネーム
2. 期待結果：
   - 全ての変更が正しく検知され処理される
   - デバッグログに各操作が順番に出力される

#### 4.2 深い階層での操作
1. 深い階層（例：5階層以上）のフォルダを作成
2. 各階層で作成/削除/リネーム操作を実行
3. 期待結果：
   - 全ての階層で正しく変更が検知される
   - 表示が正しく更新される

## バグ報告
テスト実行中に発見したバグは以下の情報と共に報告：
- 実行した操作の詳細
- 期待される動作
- 実際の動作
- デバッグログの内容
