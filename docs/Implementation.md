# 機能と実装箇所のマップ

## 画像表示機能

### 単独ビューワー
- `src/Views/ImageViewerWindow.xaml`: 単独ビューワーのUIレイアウト
  - フルスクリーン表示
  - レーティング表示
  - プロパティパネル
  - キーボード・マウス操作のハンドリング

### サムネイル一覧
- `src/Views/ThumbnailListControl.xaml.cs`: サムネイル一覧の実装
  - 仮想化されたサムネイル表示
  - ドラッグ＆ドロップ操作
  - キーボードナビゲーション
  - レーティングフィルター
  - ソート機能

## データ管理

### データベース管理
- `src/Helpers/DatabaseAccess.cs`: データベースアクセスの低レベル実装
  - 同時実行制御
  - トランザクション管理
  - エラーハンドリング
  - ロギング機能

- `src/Helpers/DatabaseManager.cs`: 高レベルのデータベース操作
  - ファイルノードの保存・読み込み
  - レーティング管理
  - バッチ処理操作
  - ファイルシステム同期

## UI構成

### メインウィンドウ
- `src/Views/MainWindow.xaml`: アプリケーションのメインUI
  - メニューバー
  - フォルダツリー
  - サムネイル一覧
  - プロパティパネル
  - グリッドスプリッター

### 設定画面
- `src/Views/AdvancedSettingsWindow.xaml`: 詳細設定UI
  - スタートアップ設定
  - スライドショー設定
  - 開発者モード設定

## ビューモデル

### サムネイルリストビューモデル
- `src/ViewModels/ThumbnailListViewModel.cs`: サムネイルリスト関連のロジックの実装
  - ファイルリスト管理
  - フィルタリング
  - ソート機能
  - 選択状態管理
  - イベント通知

## ファイル操作

### ファイル操作ヘルパー
- `src/Helpers/FileOperationHelper.cs`: ファイル操作の実装
  - ファイルのコピー・移動
  - 削除処理
  - エラーハンドリング
  - プログレス通知

### サムネイル生成
- `src/Helpers/ThumbnailLoaderHelper.cs`: サムネイル管理
  - 非同期サムネイル生成
  - キャッシュ管理
  - メモリ使用最適化
  - エラーハンドリング

## システム設定

### 言語設定
- `src/Services/LanguageService.cs`: 多言語対応の実装
  - 言語切り替え
  - リソース管理
  - 動的な言語適用

### キーボードショートカット
- `src/KeyboardShortcutHandler.cs`: ショートカット管理
  - キー設定の読み込み
  - ショートカットの実行
  - カスタマイズ機能

## イベント管理

### UIイベント
- `src/Events/UIEvents.cs`: イベントの定義と処理
  - ファイル選択イベント
  - フォルダ選択イベント
  - フィルター変更イベント
  - ソート順変更イベント
  - レーティング変更イベント
